___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_5TPRD",
  "version": 1,
  "displayName": "Axeptio CMP",
  "brand": {
    "id": "github.com_axeptio",
    "displayName": "Axeptio",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "Template for Axeptio cookie gestion",
  "containerContexts": [
    "WEB"
  ],
  "securityGroups": []
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "id",
    "displayName": "Project ID",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "REGEX",
        "args": [
          "^[0-9a-fA-F]{24}$"
        ],
        "enablingConditions": [],
        "errorMessage": "Must be a valid ID"
      },
      {
        "type": "NON_EMPTY"
      }
    ],
    "help": "Enter your Project ID. You can find it in the settings menu of your axeptio project."
  },
  {
    "type": "TEXT",
    "name": "cookiesVersion",
    "displayName": "Cookies Version",
    "simpleValueType": true,
    "help": "String identifier of the version of Cookie configuration that should be loaded. If this parameter is omitted, then it\u0027s the \"pages\" property in the configuration that gets parsed in case of multiple cookies configurations."
  },
  {
    "type": "GROUP",
    "name": "cookiesSettings",
    "displayName": "Cookie settings",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "TEXT",
        "name": "cookiesDuration",
        "displayName": "User cookies duration (in days)",
        "simpleValueType": true,
        "defaultValue": 180,
        "valueValidators": [
          {
            "type": "NON_NEGATIVE_NUMBER"
          }
        ],
        "help": "Number of days used the cookie holding user\u0027s choices should be active."
      },
      {
        "type": "TEXT",
        "name": "cookiesDomain",
        "displayName": "User cookies domain",
        "simpleValueType": true,
        "help": "If specified, domain name on which the cookie containing user choices will be available. This allows to request one consent for various subdomains."
      },
      {
        "type": "CHECKBOX",
        "name": "cookiesSecure",
        "checkboxText": "User cookies secure",
        "simpleValueType": true,
        "defaultValue": true,
        "help": "Wether or not the cookie holding choices is HTTPS only"
      },
      {
        "type": "TEXT",
        "name": "dataLayerName",
        "displayName": "dataLayer Name",
        "simpleValueType": true,
        "help": "If you use a custom dataLayer name, you can specify it here, so that Axeptio sends its events to the correct dataLayer"
      },
      {
        "type": "SELECT",
        "name": "triggerGTMEvents",
        "displayName": "Trigger GTM Events",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": true,
            "displayValue": "True"
          },
          {
            "value": false,
            "displayValue": "False"
          },
          {
            "value": "update_only",
            "displayValue": "Update only"
          }
        ],
        "simpleValueType": true,
        "defaultValue": true,
        "help": "Enables or disables Axeptio events that are sent in the GTM Datalayer. If you select \"Update Only\", it will only fire the \"axeptio_update\" event."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "serverSide",
    "displayName": "Server-side",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "TEXT",
        "name": "postConsentUrl",
        "displayName": "Server-side URL",
        "simpleValueType": true,
        "valueValidators": [
          {
            "type": "REGEX",
            "args": [
              "^(http(s):\\/\\/.)[-a-zA-Z0-9@:%._\\+~#\u003d]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?\u0026//\u003d]*)$"
            ],
            "enablingConditions": [],
            "errorMessage": "Invalid URL"
          }
        ],
        "help": "Your server-side container\u0027s URL"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "googleSettings",
    "displayName": "Google Consent Mode v2",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "isComoEnabled",
        "checkboxText": "Activate Google Consent Mode v2",
        "simpleValueType": true
      },
      {
        "type": "PARAM_TABLE",
        "name": "defaultSettings",
        "displayName": "Google Consent Mode - Default Settings",
        "paramTableColumns": [
          {
            "param": {
              "type": "TEXT",
              "name": "region",
              "displayName": "Region",
              "simpleValueType": true,
              "help": "(leave blank to have consent apply to all regions)"
            },
            "isUnique": true
          },
          {
            "param": {
              "type": "SELECT",
              "name": "analytics_storage",
              "displayName": "Analytics storage",
              "selectItems": [
                {
                  "value": "denied",
                  "displayValue": "Denied"
                },
                {
                  "value": "granted",
                  "displayValue": "Granted"
                }
              ],
              "simpleValueType": true,
              "defaultValue": "denied"
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "SELECT",
              "name": "ad_storage",
              "displayName": "Ad storage",
              "selectItems": [
                {
                  "value": "denied",
                  "displayValue": "Denied"
                },
                {
                  "value": "granted",
                  "displayValue": "Granted"
                }
              ],
              "simpleValueType": true,
              "defaultValue": "denied"
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "SELECT",
              "name": "ad_user_data",
              "displayName": "Ad user data",
              "selectItems": [
                {
                  "value": "denied",
                  "displayValue": "Denied"
                },
                {
                  "value": "granted",
                  "displayValue": "Granted"
                }
              ],
              "simpleValueType": true,
              "defaultValue": "denied"
            },
            "isUnique": false
          },
          {
            "param": {
              "type": "SELECT",
              "name": "ad_personalization",
              "displayName": "Ad personalization",
              "selectItems": [
                {
                  "value": "denied",
                  "displayValue": "Denied"
                },
                {
                  "value": "granted",
                  "displayValue": "Granted"
                }
              ],
              "simpleValueType": true,
              "defaultValue": "denied"
            },
            "isUnique": false
          }
        ],
        "enablingConditions": [
          {
            "paramName": "isComoEnabled",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "ads_data_redaction",
        "checkboxText": "Redact Ads Data",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "isComoEnabled",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "help": "When ad_storage is denied, new cookies will not be set for advertising purposes. Additionally, third-party cookies previously set on google.com and doubleclick.net will not be used except for spam and fraud purposes. Data sent to Google will still include the full page URL, including any ad click information in the URL parameters."
      },
      {
        "type": "CHECKBOX",
        "name": "url_passthrough",
        "checkboxText": "Pass through URL parameters",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "isComoEnabled",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "help": "When a user lands on your website after clicking an ad, information about the ad may be appended to your landing page URLs as a query parameter. In order to improve conversion accuracy, this information is usually stored in first-party cookies on your domain.  However, if ad_storage is set to denied, this information will not be stored locally. To improve ad click measurement quality when ad_storage is denied, you can optionally elect to pass information about ad clicks through URL parameters across pages using URL passthrough.  Similarly, if analytics_storage is set to denied, URL passthrough can be used to send event and session-based analytics (including conversions) without cookies across pages."
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Enter your template code here.
const logToConsole = require('logToConsole');
const setDefaultConsentState = require('setDefaultConsentState');
const gtagSet = require('gtagSet');
const queryPermission = require('queryPermission');
const injectScript = require('injectScript');
const setInWindow = require('setInWindow');
const makeNumber = require('makeNumber');

if(data.isComoEnabled){
  
  const splitInput = (input) => {
  return input.split(',')
      .map(entry => entry.trim())
      .filter(entry => entry.length !== 0);
};

const parseCommandData = (settings) => {
  const commandData = {};
  for(const key in settings){
    if(key === "region"){
      const regions = splitInput(settings[key]);
      if (regions.length > 0) {
        commandData.region = regions;
      }
    }
    else{
      commandData[key] = settings[key];
    }
  }
  return commandData;
};

const main = (data) => {
  /*
   * Optional settings using gtagSet
   */
  gtagSet('ads_data_redaction', data.ads_data_redaction);
  gtagSet('url_passthrough', data.url_passthrough);
  gtagSet('developer_id.dNGFkYj', true);
  // Set default consent state(s)
  data.defaultSettings.forEach(settings => {
    const defaultData = parseCommandData(settings);
  // wait_for_update (ms) allows for time to receive visitor choices from the CMP
    defaultData.wait_for_update = 500;
    setDefaultConsentState(defaultData);
  });
};

main(data);

}

setInWindow('axeptioSettings', 
{clientId: data.id,
cookiesVersion: data.cookiesVersion,
dataLayerName: data.dataLayerName,
userCookiesDuration: makeNumber(data.cookiesDuration),
userCookiesDomain: data.cookiesDomain,
userCookiesSecure: data.cookiesSecure,
postConsentUrl: data.postConsentUrl,
triggerGTMEvents: data.triggerGTMEvents,
platform: 'tms-gtm',
},
true);



if (queryPermission('inject_script', 'https://static.axept.io/sdk.js')) {
  injectScript('https://static.axept.io/sdk.js', data.gtmOnSuccess, data.gtmOnFailure);
} else {
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://static.axept.io/sdk.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "axeptioSettings"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "axeptioSettings.clientId"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "write_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "ads_data_redaction"
              },
              {
                "type": 1,
                "string": "url_passthrough"
              },
              {
                "type": 1,
                "string": "developer_id.dNGFkYj"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_user_data"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_personalization"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "wait_for_update"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 10/03/2021 à 13:32:17


